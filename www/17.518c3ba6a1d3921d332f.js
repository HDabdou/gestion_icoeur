(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{iaCu:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),u=function(){return function(){}}(),o=t("pMnS"),i=t("oBZk"),r=t("ZZ/e"),a=t("Ip0R"),s=t("gIcY"),c=t("EbUN"),g=function(){function n(n){this._icoeurService=n,this.writer=0,this.chatMessage=[]}return n.prototype.sendQuestion=function(){var n=this;this._icoeurService.createBlog({patient:JSON.parse(localStorage.getItem("currentUser")).id,medecin:JSON.parse(localStorage.getItem("currentUser")).depends_on,type:"q",message:this.question,categorie:"text"}).then((function(l){console.log(l),1==l.status&&n._icoeurService.getBlog({patient:JSON.parse(localStorage.getItem("currentUser")).id,medecin:JSON.parse(localStorage.getItem("currentUser")).depends_on}).then((function(l){1==l.status&&(n.chatMessage=l.Message,n._icoeurService.onUserUpdate({id:JSON.parse(localStorage.getItem("currentUser")).id,new:1}).then((function(l){console.log(l),n.question=void 0})))}))})),this.question=void 0,document.getElementsByTagName("ion-content")[0].scrollToBottom()},n.prototype.sendResponse=function(){var n=this;this._icoeurService.createBlog({patient:localStorage.getItem("idPatient"),medecin:JSON.parse(localStorage.getItem("currentUser")).id,type:"r",message:this.response,categorie:"text"}).then((function(l){console.log(l),1==l.status?n._icoeurService.getBlog({patient:localStorage.getItem("idPatient"),medecin:JSON.parse(localStorage.getItem("currentUser")).id}).then((function(l){console.log(l),1==l.status&&(n.chatMessage=l.Message)})):alert("Error")})),this.response=void 0,document.getElementsByTagName("ion-content")[0].scrollToBottom()},n.prototype.displayDate=function(n){var l=(new Date).toJSON().split("T",2)[0];if(""!=n){var t=n.split(" ")[0];return l==t?"Ã  "+n.split(" ")[1]:t.split("-")[2]+"-"+t.split("-")[1]+"-"+t.split("-")[0]+" "+n.split(" ")[1]}},n.prototype.ionViewDidEnter=function(){var n=this;this.writer=JSON.parse(localStorage.getItem("currentUser")).access_level,3==this.writer&&this._icoeurService.getBlog({patient:JSON.parse(localStorage.getItem("currentUser")).id,medecin:JSON.parse(localStorage.getItem("currentUser")).depends_on}).then((function(l){console.log(l),1==l.status&&(n.chatMessage=l.Message)})),2==this.writer&&this._icoeurService.getBlog({patient:localStorage.getItem("idPatient"),medecin:JSON.parse(localStorage.getItem("currentUser")).id}).then((function(l){console.log(l),1==l.status&&(n.chatMessage=l.Message)}))},n.prototype.ngOnInit=function(){this.writer=JSON.parse(localStorage.getItem("currentUser")).access_level},n}(),b=e.zb({encapsulation:0,styles:[[".welcome-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}.myCard[_ngcontent-%COMP%]{margin-top:5px!important;margin-bottom:5px!important;border-radius:8px!important;-webkit-margin-start:6px!important;-webkit-margin-end:5px!important}span[_ngcontent-%COMP%]{font-size:1.5rem;margin:5px}.rowHome[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);margin:10px 5px;background-color:#fff}ion-toolbar[_ngcontent-%COMP%]{--background:url('topBar.aad7ed20f653134f5aeb.JPG');--color:white;--box-shadow:0!important}.container[_ngcontent-%COMP%]{margin:5px;background:#fff;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.nous[_ngcontent-%COMP%]{font-family:Fontil Sans,monospace;text-align:left;width:50%;float:left;background-color:#f5f5f5;border-bottom-left-radius:10px}.nous1[_ngcontent-%COMP%]{font-family:Fontil Sans,monospace;text-align:left;width:90%;float:left;background-color:#f5f5f5;border-bottom-left-radius:10px}.nous1[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100px!important}.client[_ngcontent-%COMP%]{text-align:left;width:50%;float:right;background-color:#90ee90;color:#000;border-bottom-right-radius:10px}.mycontainer[_ngcontent-%COMP%]{font-family:Fontil Sans,monospace;text-align:left;width:100%;float:left;background:#f0f8ff;border-bottom-left-radius:10px;padding:5px;min-height:100%}.patient[_ngcontent-%COMP%]{font-family:Fontil Sans,monospace;text-align:left;float:left;background:beige;border-radius:1rem;padding:5px;box-shadow:2 2px 16px 1 rgba(123,123,123,.05);width:90%;margin-top:.5rem}.medecin[_ngcontent-%COMP%]{font-family:Fontil Sans,monospace;text-align:left;float:right;background:#ffa07a;border-radius:1rem;padding:5px;box-shadow:2 2px 16px 1 rgba(123,123,123,.05);width:90%;margin-top:.5rem}"]],data:{}});function p(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,2,"ion-back-button",[],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Nb(n,2).onClick(t)&&u),u}),i.E,i.b)),e.Ab(1,49152,null,0,r.f,[e.j,e.p,e.F],null,null),e.Ab(2,16384,null,0,r.g,[[2,r.hb],r.Ib],null,null)],null,null)}function d(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,5,"div",[["class","patient"]],null,null,null,null,null)),(n()(),e.Bb(1,0,null,null,2,"ion-label",[],null,null,null,i.U,i.r)),e.Ab(2,49152,null,0,r.M,[e.j,e.p,e.F],null,null),(n()(),e.Tb(3,0,[" "," "])),(n()(),e.Bb(4,0,null,null,1,"p",[["style","font-size: 13px;\n    float: right;\n    color: grey;\n    margin: 0 !important;padding-top: 1rem;"]],null,null,null,null,null)),(n()(),e.Tb(5,null,[" "," "]))],null,(function(n,l){var t=l.component;n(l,3,0,l.parent.context.$implicit.message),n(l,5,0,t.displayDate(l.parent.context.$implicit.date))}))}function f(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,5,"div",[["class","medecin"]],null,null,null,null,null)),(n()(),e.Bb(1,0,null,null,2,"ion-label",[],null,null,null,i.U,i.r)),e.Ab(2,49152,null,0,r.M,[e.j,e.p,e.F],null,null),(n()(),e.Tb(3,0,[" "," "])),(n()(),e.Bb(4,0,null,null,1,"p",[["style","font-size: 13px;\n    float: right;\n    color: grey;\n    margin: 0 !important;padding-top: 1rem;"]],null,null,null,null,null)),(n()(),e.Tb(5,null,[" "," "]))],null,(function(n,l){var t=l.component;n(l,3,0,l.parent.context.$implicit.message),n(l,5,0,t.displayDate(l.parent.context.$implicit.date))}))}function m(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.qb(16777216,null,null,1,null,d)),e.Ab(2,16384,null,0,a.i,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.qb(16777216,null,null,1,null,f)),e.Ab(4,16384,null,0,a.i,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,2,0,"q"==l.context.$implicit.type),n(l,4,0,"r"==l.context.$implicit.type)}),null)}function h(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,8,"div",[["class","col-10"]],null,null,null,null,null)),(n()(),e.Bb(1,0,null,null,7,"ion-textarea",[["autosize",""],["cols","20"],["placeholder","Votre question ..."],["rows","2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,t){var u=!0,o=n.component;return"ionBlur"===l&&(u=!1!==e.Nb(n,2)._handleBlurEvent(t.target)&&u),"ionChange"===l&&(u=!1!==e.Nb(n,2)._handleInputEvent(t.target)&&u),"ngModelChange"===l&&(u=!1!==(o.question=t)&&u),u}),i.db,i.A)),e.Ab(2,16384,null,0,r.Nb,[e.p],null,null),e.Qb(1024,null,s.c,(function(n){return[n]}),[r.Nb]),e.Ab(4,671744,null,0,s.h,[[8,null],[8,null],[8,null],[6,s.c]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),e.Pb(5,{standalone:0}),e.Qb(2048,null,s.d,null,[s.h]),e.Ab(7,16384,null,0,s.e,[[4,s.d]],null,null),e.Ab(8,49152,null,0,r.xb,[e.j,e.p,e.F],{cols:[0,"cols"],placeholder:[1,"placeholder"],rows:[2,"rows"]},null)],(function(n,l){var t=l.component.question,e=n(l,5,0,!0);n(l,4,0,t,e),n(l,8,0,"20","Votre question ...","2")}),(function(n,l){n(l,1,0,e.Nb(l,7).ngClassUntouched,e.Nb(l,7).ngClassTouched,e.Nb(l,7).ngClassPristine,e.Nb(l,7).ngClassDirty,e.Nb(l,7).ngClassValid,e.Nb(l,7).ngClassInvalid,e.Nb(l,7).ngClassPending)}))}function x(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,1,"ion-icon",[["name","send"],["style","font-size: 4rem;"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.sendQuestion()&&e),e}),i.R,i.o)),e.Ab(1,49152,null,0,r.B,[e.j,e.p,e.F],{name:[0,"name"]},null)],(function(n,l){n(l,1,0,"send")}),null)}function v(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(n()(),e.qb(16777216,null,null,1,null,x)),e.Ab(2,16384,null,0,a.i,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,2,0,l.component.question)}),null)}function S(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,8,"div",[["class","col-10"]],null,null,null,null,null)),(n()(),e.Bb(1,0,null,null,7,"ion-textarea",[["autosize",""],["cols","20"],["placeholder","Votre reponse ..."],["rows","2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,t){var u=!0,o=n.component;return"ionBlur"===l&&(u=!1!==e.Nb(n,2)._handleBlurEvent(t.target)&&u),"ionChange"===l&&(u=!1!==e.Nb(n,2)._handleInputEvent(t.target)&&u),"ngModelChange"===l&&(u=!1!==(o.response=t)&&u),u}),i.db,i.A)),e.Ab(2,16384,null,0,r.Nb,[e.p],null,null),e.Qb(1024,null,s.c,(function(n){return[n]}),[r.Nb]),e.Ab(4,671744,null,0,s.h,[[8,null],[8,null],[8,null],[6,s.c]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),e.Pb(5,{standalone:0}),e.Qb(2048,null,s.d,null,[s.h]),e.Ab(7,16384,null,0,s.e,[[4,s.d]],null,null),e.Ab(8,49152,null,0,r.xb,[e.j,e.p,e.F],{cols:[0,"cols"],placeholder:[1,"placeholder"],rows:[2,"rows"]},null)],(function(n,l){var t=l.component.response,e=n(l,5,0,!0);n(l,4,0,t,e),n(l,8,0,"20","Votre reponse ...","2")}),(function(n,l){n(l,1,0,e.Nb(l,7).ngClassUntouched,e.Nb(l,7).ngClassTouched,e.Nb(l,7).ngClassPristine,e.Nb(l,7).ngClassDirty,e.Nb(l,7).ngClassValid,e.Nb(l,7).ngClassInvalid,e.Nb(l,7).ngClassPending)}))}function B(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,1,"ion-icon",[["name","send"],["style","font-size: 4rem;"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.sendResponse()&&e),e}),i.R,i.o)),e.Ab(1,49152,null,0,r.B,[e.j,e.p,e.F],{name:[0,"name"]},null)],(function(n,l){n(l,1,0,"send")}),null)}function w(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(n()(),e.qb(16777216,null,null,1,null,B)),e.Ab(2,16384,null,0,a.i,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,2,0,l.component.response)}),null)}function C(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,12,"ion-header",[],null,null,null,i.Q,i.n)),e.Ab(1,49152,null,0,r.A,[e.j,e.p,e.F],null,null),(n()(),e.Bb(2,0,null,0,10,"ion-toolbar",[],null,null,null,i.fb,i.C)),e.Ab(3,49152,null,0,r.Bb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(4,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,i.H,i.e)),e.Ab(5,49152,null,0,r.k,[e.j,e.p,e.F],null,null),(n()(),e.qb(16777216,null,0,1,null,p)),e.Ab(7,16384,null,0,a.i,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.Bb(8,0,null,0,1,"ion-menu-button",[],null,null,null,i.W,i.u)),e.Ab(9,49152,null,0,r.Q,[e.j,e.p,e.F],null,null),(n()(),e.Bb(10,0,null,0,2,"ion-title",[],null,null,null,i.eb,i.B)),e.Ab(11,49152,null,0,r.zb,[e.j,e.p,e.F],null,null),(n()(),e.Tb(-1,0,[" Blog "])),(n()(),e.Bb(13,0,null,null,14,"ion-content",[["style","background: #F0F8FF;"]],null,null,null,i.N,i.k)),e.Ab(14,49152,null,0,r.t,[e.j,e.p,e.F],null,null),(n()(),e.Bb(15,0,null,0,2,"div",[["class","mycontainer"],["style","margin-bottom: 5rem;"]],null,null,null,null,null)),(n()(),e.qb(16777216,null,null,1,null,m)),e.Ab(17,278528,null,0,a.h,[e.W,e.S,e.x],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Bb(18,0,null,0,9,"div",[["style","bottom: 0;position: fixed;background: white;width: 100%;margin: 0;padding: 0;box-shadow: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);"]],null,null,null,null,null)),(n()(),e.Bb(19,0,null,null,8,"div",[["class","col-12 row"]],null,null,null,null,null)),(n()(),e.qb(16777216,null,null,1,null,h)),e.Ab(21,16384,null,0,a.i,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.qb(16777216,null,null,1,null,v)),e.Ab(23,16384,null,0,a.i,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.qb(16777216,null,null,1,null,S)),e.Ab(25,16384,null,0,a.i,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.qb(16777216,null,null,1,null,w)),e.Ab(27,16384,null,0,a.i,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,7,0,2==t.writer),n(l,17,0,t.chatMessage),n(l,21,0,3==t.writer),n(l,23,0,3==t.writer),n(l,25,0,2==t.writer),n(l,27,0,2==t.writer)}),null)}function I(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,1,"app-blog",[],null,null,null,C,b)),e.Ab(1,114688,null,0,g,[c.a],null,null)],(function(n,l){n(l,1,0)}),null)}var N=e.xb("app-blog",g,I,{},{},[]),y=t("ZYCi"),M=function(){return function(){}}();t.d(l,"BlogPageModuleNgFactory",(function(){return A}));var A=e.yb(u,[],(function(n){return e.Kb([e.Lb(512,e.m,e.jb,[[8,[o.a,N]],[3,e.m],e.D]),e.Lb(4608,a.k,a.j,[e.z,[2,a.t]]),e.Lb(4608,s.j,s.j,[]),e.Lb(4608,r.b,r.b,[e.F,e.g]),e.Lb(4608,r.Hb,r.Hb,[r.b,e.m,e.w]),e.Lb(4608,r.Kb,r.Kb,[r.b,e.m,e.w]),e.Lb(1073742336,a.b,a.b,[]),e.Lb(1073742336,s.i,s.i,[]),e.Lb(1073742336,s.b,s.b,[]),e.Lb(1073742336,r.Db,r.Db,[]),e.Lb(1073742336,y.o,y.o,[[2,y.t],[2,y.m]]),e.Lb(1073742336,M,M,[]),e.Lb(1073742336,u,u,[]),e.Lb(1024,y.k,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);